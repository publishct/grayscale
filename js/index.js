"use strict";!function(i){function e(){100<i("#mainNav").offset().top?i("#mainNav").addClass("navbar-shrink"):i("#mainNav").removeClass("navbar-shrink")}i('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=i(this.hash);if((e=e.length?e:i("[name="+this.hash.slice(1)+"]")).length)return i("html, body").animate({scrollTop:e.offset().top-70},1e3,"easeInOutExpo"),!1}}),i(".js-scroll-trigger").click(function(){i(".navbar-collapse").collapse("hide")}),i("body").scrollspy({target:"#mainNav",offset:100}),e(),i(window).scroll(e)}(jQuery),function(i){function e(){100<i("#mainNav").offset().top?i("#mainNav").addClass("navbar-shrink"):i("#mainNav").removeClass("navbar-shrink")}i('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=i(this.hash);if((e=e.length?e:i("[name="+this.hash.slice(1)+"]")).length)return i("html, body").animate({scrollTop:e.offset().top-70},1e3,"easeInOutExpo"),!1}}),i(".js-scroll-trigger").click(function(){i(".navbar-collapse").collapse("hide")}),i("body").scrollspy({target:"#mainNav",offset:100}),e(),i(window).scroll(e)}(jQuery);var Pageflip=function(e){return(e=function(e,i){this.pages=i,this.audioUrl="page-flip.mp3",this.transitionMs=500,this.hasPrevPage=!1,this.hasNextPage=!0,this.leftHiddenPage=-3,this.leftOverleaf=-2,this.leftPage=-1,this.rightPage=0,this.rightOverleaf=1,this.rightHiddenPage=2;var t=this;this._el(e).element.innerHTML="\n        <div id=\"page-flip\"><span class='page-flip-loader'></span></div>\n      ",this.preloadPages(function(){t.preloadAudio(),t.buildMarkup(e),t.renderPages(),t.addClickOnGrabbers()})}).prototype.preloadPages=function(e){for(var i=this,t=[],a=0,s=0;s<this.pages.length;s++)t[s]=new Image,t[s].onload=function(){++a===i.pages.length&&e()},t[s].src=i.pages[s]},e.prototype.preloadAudio=function(){this.audio=new Audio,this.audio.preload="auto",this.audio.src=this.audioUrl},e.prototype.organizePages=function(e){var i=this,t=this._el(".page-left"),a=this._el(".page-right");"prev"===e?(this.leftHiddenPage<=-1&&t.addClass("reduce-to-left"),this.addPage(this.leftHiddenPage,".hidden-left-page"),this.addPage(this.leftOverleaf,".prev-page"),this.leftHiddenPage-=2,this.leftOverleaf-=2,this.leftPage-=2,this.rightPage-=2,this.rightOverleaf-=2,this.rightHiddenPage-=2):(this.rightHiddenPage>=this.pages.length&&a.addClass("reduce-to-right"),this.addPage(this.rightHiddenPage,".hidden-right-page"),this.addPage(this.rightOverleaf,".next-page"),this.leftHiddenPage+=2,this.leftOverleaf+=2,this.leftPage+=2,this.rightPage+=2,this.rightOverleaf+=2,this.rightHiddenPage+=2),this.leftOverleaf<=-1?(t.addClass("disable-click"),this.hasPrevPage=!1):(t.removeClass("disable-click"),this.hasPrevPage=!0),this.rightOverleaf>this.pages.length?(a.addClass("disable-click"),this.hasNextPage=!1):(a.removeClass("disable-click"),this.hasNextPage=!0),this.delayTransition(function(){i.renderPages()})},e.prototype.renderPages=function(){this.addPage(this.leftPage,".page-left"),this.addPage(this.rightPage,".page-right")},e.prototype.addClickOnGrabbers=function(){var e=this,i=this._el(".page-left .page-grabber").element,t=this._el(".page-right .page-grabber").element;i.addEventListener("click",function(){e.leftGrabberOnClick()},!1),t.addEventListener("click",function(){e.rightGrabberOnClick()},!1),this._el(".page-left").addClass("disable-click")},e.prototype.leftGrabberOnClick=function(){var e,i,t,a,s;(this.hasPrevPage||this.isTurningPage)&&(this.audio.play(),this.isTurningPage=!0,i=(e=this)._el(".prev-page"),t=this._el(".left-brightness"),a=this._el(".hidden-left-page"),s=this._el(".page-grabber"),i.addClass("turning-prev-page"),t.addClass("turning-right"),a.addClass("show-hidden-left-page"),s.addClass("hide-page-fold"),e.organizePages("prev"),this.delayTransition(function(){i.removeClass("turning-prev-page"),t.removeClass("turning-right"),a.removeClass("show-hidden-left-page"),s.removeClass("hide-page-fold"),e._el(".page-left").removeClass("reduce-to-left"),e.reset()}))},e.prototype.rightGrabberOnClick=function(){var e,i,t,a,s;(this.hasNextPage||this.isTurningPage)&&(this.audio.play(),this.isTurningPage=!0,i=(e=this)._el(".next-page"),t=this._el(".right-brightness"),a=this._el(".hidden-right-page"),s=this._el(".page-grabber"),i.addClass("turning-next-page"),t.addClass("turning-left"),a.addClass("show-hidden-right-page"),s.addClass("hide-page-fold"),e.organizePages("next"),this.delayTransition(function(){i.removeClass("turning-next-page"),t.removeClass("turning-left"),a.removeClass("show-hidden-right-page"),s.removeClass("hide-page-fold"),e._el(".page-right").removeClass("reduce-to-right"),e.reset()}))},e.prototype.delayTransition=function(e){setTimeout(function(){e()},this.transitionMs)},e.prototype.addPage=function(e,i){void 0!==this.pages[e]?this._el(i).element.style.backgroundImage='url("'+this.pages[e]+'")':this._el(i).element.style.backgroundImage=null},e.prototype.reset=function(){this.audio.pause(),this.audio.currentTime=0,this.isTurningPage=!1},e.prototype.buildMarkup=function(e){this._el("#page-flip").element.innerHTML='\n        <div class="pages-container">\n          <div class="hidden-left-page"></div>\n          <div class="left-brightness"></div>\n          <div class="prev-page"></div>\n          <div class="page-left">\n            <div class="page-grabber">\n              <div class="page-fold"></div>\n            </div>\n            <div class="page-middle"></div>\n          </div>\n          <div class="page-right">\n            <div class="page-middle"></div>\n            <div class="page-grabber">\n              <div class="page-fold"></div>\n            </div>\n          </div>\n          <div class="next-page"></div>\n          <div class="right-brightness"></div>\n          <div class="hidden-right-page"></div>\n        </div>\n      '},e.prototype._el=function(e){return this.element,{element:document.querySelector(e),addClass:function(e){return this.element.classList.add(e),this},removeClass:function(e){return this.element.classList.remove(e),this}}},e}();!function(i){function e(){100<i("#mainNav").offset().top?i("#mainNav").addClass("navbar-shrink"):i("#mainNav").removeClass("navbar-shrink")}i('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=i(this.hash);if((e=e.length?e:i("[name="+this.hash.slice(1)+"]")).length)return i("html, body").animate({scrollTop:e.offset().top-70},1e3,"easeInOutExpo"),!1}}),i(".js-scroll-trigger").click(function(){i(".navbar-collapse").collapse("hide")}),i("body").scrollspy({target:"#mainNav",offset:100}),e(),i(window).scroll(e)}(jQuery);Pageflip=function(e){return(e=function(e,i){this.pages=i,this.audioUrl="page-flip.mp3",this.transitionMs=500,this.hasPrevPage=!1,this.hasNextPage=!0,this.leftHiddenPage=-3,this.leftOverleaf=-2,this.leftPage=-1,this.rightPage=0,this.rightOverleaf=1,this.rightHiddenPage=2;var t=this;this._el(e).element.innerHTML="\n        <div id=\"page-flip\"><span class='page-flip-loader'></span></div>\n      ",this.preloadPages(function(){t.preloadAudio(),t.buildMarkup(e),t.renderPages(),t.addClickOnGrabbers()})}).prototype.preloadPages=function(e){for(var i=this,t=[],a=0,s=0;s<this.pages.length;s++)t[s]=new Image,t[s].onload=function(){++a===i.pages.length&&e()},t[s].src=i.pages[s]},e.prototype.preloadAudio=function(){this.audio=new Audio,this.audio.preload="auto",this.audio.src=this.audioUrl},e.prototype.organizePages=function(e){var i=this,t=this._el(".page-left"),a=this._el(".page-right");"prev"===e?(this.leftHiddenPage<=-1&&t.addClass("reduce-to-left"),this.addPage(this.leftHiddenPage,".hidden-left-page"),this.addPage(this.leftOverleaf,".prev-page"),this.leftHiddenPage-=2,this.leftOverleaf-=2,this.leftPage-=2,this.rightPage-=2,this.rightOverleaf-=2,this.rightHiddenPage-=2):(this.rightHiddenPage>=this.pages.length&&a.addClass("reduce-to-right"),this.addPage(this.rightHiddenPage,".hidden-right-page"),this.addPage(this.rightOverleaf,".next-page"),this.leftHiddenPage+=2,this.leftOverleaf+=2,this.leftPage+=2,this.rightPage+=2,this.rightOverleaf+=2,this.rightHiddenPage+=2),this.leftOverleaf<=-1?(t.addClass("disable-click"),this.hasPrevPage=!1):(t.removeClass("disable-click"),this.hasPrevPage=!0),this.rightOverleaf>this.pages.length?(a.addClass("disable-click"),this.hasNextPage=!1):(a.removeClass("disable-click"),this.hasNextPage=!0),this.delayTransition(function(){i.renderPages()})},e.prototype.renderPages=function(){this.addPage(this.leftPage,".page-left"),this.addPage(this.rightPage,".page-right")},e.prototype.addClickOnGrabbers=function(){var e=this,i=this._el(".page-left .page-grabber").element,t=this._el(".page-right .page-grabber").element;i.addEventListener("click",function(){e.leftGrabberOnClick()},!1),t.addEventListener("click",function(){e.rightGrabberOnClick()},!1),this._el(".page-left").addClass("disable-click")},e.prototype.leftGrabberOnClick=function(){var e,i,t,a,s;(this.hasPrevPage||this.isTurningPage)&&(this.audio.play(),this.isTurningPage=!0,i=(e=this)._el(".prev-page"),t=this._el(".left-brightness"),a=this._el(".hidden-left-page"),s=this._el(".page-grabber"),i.addClass("turning-prev-page"),t.addClass("turning-right"),a.addClass("show-hidden-left-page"),s.addClass("hide-page-fold"),e.organizePages("prev"),this.delayTransition(function(){i.removeClass("turning-prev-page"),t.removeClass("turning-right"),a.removeClass("show-hidden-left-page"),s.removeClass("hide-page-fold"),e._el(".page-left").removeClass("reduce-to-left"),e.reset()}))},e.prototype.rightGrabberOnClick=function(){var e,i,t,a,s;(this.hasNextPage||this.isTurningPage)&&(this.audio.play(),this.isTurningPage=!0,i=(e=this)._el(".next-page"),t=this._el(".right-brightness"),a=this._el(".hidden-right-page"),s=this._el(".page-grabber"),i.addClass("turning-next-page"),t.addClass("turning-left"),a.addClass("show-hidden-right-page"),s.addClass("hide-page-fold"),e.organizePages("next"),this.delayTransition(function(){i.removeClass("turning-next-page"),t.removeClass("turning-left"),a.removeClass("show-hidden-right-page"),s.removeClass("hide-page-fold"),e._el(".page-right").removeClass("reduce-to-right"),e.reset()}))},e.prototype.delayTransition=function(e){setTimeout(function(){e()},this.transitionMs)},e.prototype.addPage=function(e,i){void 0!==this.pages[e]?this._el(i).element.style.backgroundImage='url("'+this.pages[e]+'")':this._el(i).element.style.backgroundImage=null},e.prototype.reset=function(){this.audio.pause(),this.audio.currentTime=0,this.isTurningPage=!1},e.prototype.buildMarkup=function(e){this._el("#page-flip").element.innerHTML='\n        <div class="pages-container">\n          <div class="hidden-left-page"></div>\n          <div class="left-brightness"></div>\n          <div class="prev-page"></div>\n          <div class="page-left">\n            <div class="page-grabber">\n              <div class="page-fold"></div>\n            </div>\n            <div class="page-middle"></div>\n          </div>\n          <div class="page-right">\n            <div class="page-middle"></div>\n            <div class="page-grabber">\n              <div class="page-fold"></div>\n            </div>\n          </div>\n          <div class="next-page"></div>\n          <div class="right-brightness"></div>\n          <div class="hidden-right-page"></div>\n        </div>\n      '},e.prototype._el=function(e){return this.element,{element:document.querySelector(e),addClass:function(e){return this.element.classList.add(e),this},removeClass:function(e){return this.element.classList.remove(e),this}}},e}();!function(i){i('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=i(this.hash);if((e=e.length?e:i("[name="+this.hash.slice(1)+"]")).length)return i("html, body").animate({scrollTop:e.offset().top-70},1e3,"easeInOutExpo"),!1}}),i(".js-scroll-trigger").click(function(){i(".navbar-collapse").collapse("hide")}),i("body").scrollspy({target:"#mainNav",offset:100});function e(){100<i("#mainNav").offset().top?i("#mainNav").addClass("navbar-shrink"):i("#mainNav").removeClass("navbar-shrink")}e(),i(window).scroll(e)}(jQuery);